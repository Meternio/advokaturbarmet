export class CookieBanner{constructor(){this.parent=document.querySelector(".cookie__consent"),this.acceptAll=document.querySelector(".accept__all"),this.acceptRequired=document.querySelector(".accept__required"),this.analyticsToken=document.body.getAttribute("data-analytics"),this.analyticsString=`\n            let path = (window.location.href).replace(window.location.origin, '').toLowerCase();\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n            ga('create', '${this.analyticsToken}', {'anonymize_ip': true, 'page_title' : document.title, 'page_path': path});\n            ga('send', 'pageview')\n        `}getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}hideBanner(){this.parent.classList.add("hidden")}initAnalytics(){let e=document.createElement("script");e.innerHTML=this.analyticsString,document.getElementsByTagName("head")[0].appendChild(e),barba.hooks.after((()=>{ga("set","page",window.location.pathname),ga("send","pageview")}))}init(){if(this.parent&&null===this.getCookie("cookieAll")&&null===this.getCookie("cookieRequired")){let e=(Client.windowWidth,7e3);window.setTimeout((()=>{this.parent.classList.remove("hidden")}),e),this.acceptAll.addEventListener(fastClick,(()=>{document.cookie="cookieAll=true",this.hideBanner(),this.initAnalytics()})),this.acceptRequired.addEventListener(fastClick,(()=>{document.cookie="cookieRequired=true",this.hideBanner()}))}}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXRpYy9jb29raWUuanMiXSwibmFtZXMiOlsiQ29va2llQmFubmVyIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsInBhcmVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFjY2VwdEFsbCIsImFjY2VwdFJlcXVpcmVkIiwiYW5hbHl0aWNzVG9rZW4iLCJib2R5IiwiZ2V0QXR0cmlidXRlIiwiYW5hbHl0aWNzU3RyaW5nIiwibmFtZSIsIm5hbWVFUSIsImNhIiwiY29va2llIiwic3BsaXQiLCJpIiwibGVuZ3RoIiwiYyIsImNoYXJBdCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJjbGFzc0xpc3QiLCJhZGQiLCJzY3JpcHROb2RlIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXBwZW5kQ2hpbGQiLCJiYXJiYSIsImhvb2tzIiwiYWZ0ZXIiLCJnYSIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJnZXRDb29raWUiLCJkZWxheSIsIkNsaWVudCIsIndpbmRvd1dpZHRoIiwic2V0VGltZW91dCIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJmYXN0Q2xpY2siLCJoaWRlQmFubmVyIiwiaW5pdEFuYWx5dGljcyJdLCJtYXBwaW5ncyI6Ik9BQU8sTUFBTUEsYUFDVEMsY0FDSUMsS0FBS0MsT0FBU0MsU0FBU0MsY0FBYyxvQkFDckNILEtBQUtJLFVBQVlGLFNBQVNDLGNBQWMsZ0JBQ3hDSCxLQUFLSyxlQUFpQkgsU0FBU0MsY0FBYyxxQkFDN0NILEtBQUtNLGVBQWlCSixTQUFTSyxLQUFLQyxhQUFhLGtCQUNqRFIsS0FBS1MsZ0JBQWtCLDhlQU1IVCxLQUFLTSw0SUFLN0JQLFVBQVVXLEdBR04sSUFGQSxJQUFJQyxFQUFTRCxFQUFPLElBQ2hCRSxFQUFLVixTQUFTVyxPQUFPQyxNQUFNLEtBQ3RCQyxFQUFJLEVBQUdBLEVBQUlILEVBQUdJLE9BQVFELElBQUssQ0FFaEMsSUFEQSxJQUFJRSxFQUFJTCxFQUFHRyxHQUNZLE1BQWhCRSxFQUFFQyxPQUFPLElBQVlELEVBQUlBLEVBQUVFLFVBQVUsRUFBR0YsRUFBRUQsUUFDakQsR0FBMEIsSUFBdEJDLEVBQUVHLFFBQVFULEdBQWUsT0FBT00sRUFBRUUsVUFBVVIsRUFBT0ssT0FBUUMsRUFBRUQsUUFFckUsT0FBTyxLQUdYakIsYUFDSUMsS0FBS0MsT0FBT29CLFVBQVVDLElBQUksVUFHOUJ2QixnQkFDSSxJQUFJd0IsRUFBYXJCLFNBQVNzQixjQUFjLFVBQ3hDRCxFQUFXRSxVQUFZekIsS0FBS1MsZ0JBQzVCUCxTQUFTd0IscUJBQXFCLFFBQVEsR0FBR0MsWUFBWUosR0FFckRLLE1BQU1DLE1BQU1DLE9BQU0sS0FDZEMsR0FBRyxNQUFPLE9BQVFDLE9BQU9DLFNBQVNDLFVBQ2xDSCxHQUFHLE9BQVEsZUFJbkJoQyxPQUNJLEdBQUlDLEtBQUtDLFFBQTBDLE9BQWhDRCxLQUFLbUMsVUFBVSxjQUE4RCxPQUFyQ25DLEtBQUttQyxVQUFVLGtCQUE0QixDQUNsRyxJQUFJQyxHQUFRQyxPQUFPQyxZQUFxQixLQUV4Q04sT0FBT08sWUFBVyxLQUNkdkMsS0FBS0MsT0FBT29CLFVBQVVtQixPQUFPLFlBQzlCSixHQUVIcEMsS0FBS0ksVUFBVXFDLGlCQUFpQkMsV0FBVyxLQUN2Q3hDLFNBQVNXLE9BQVMsaUJBQ2xCYixLQUFLMkMsYUFDTDNDLEtBQUs0QyxtQkFHVDVDLEtBQUtLLGVBQWVvQyxpQkFBaUJDLFdBQVcsS0FDNUN4QyxTQUFTVyxPQUFTLHNCQUNsQmIsS0FBSzJDIiwiZmlsZSI6InN0YXRpYy9jb29raWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ29va2llQmFubmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llX19jb25zZW50Jyk7XG4gICAgICAgIHRoaXMuYWNjZXB0QWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjY2VwdF9fYWxsJyk7XG4gICAgICAgIHRoaXMuYWNjZXB0UmVxdWlyZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNjZXB0X19yZXF1aXJlZCcpO1xuICAgICAgICB0aGlzLmFuYWx5dGljc1Rva2VuID0gZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5hbHl0aWNzJyk7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzU3RyaW5nID0gYFxuICAgICAgICAgICAgbGV0IHBhdGggPSAod2luZG93LmxvY2F0aW9uLmhyZWYpLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLm9yaWdpbiwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAoZnVuY3Rpb24oaSxzLG8sZyxyLGEsbSl7aVsnR29vZ2xlQW5hbHl0aWNzT2JqZWN0J109cjtpW3JdPWlbcl18fGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAoaVtyXS5xPWlbcl0ucXx8W10pLnB1c2goYXJndW1lbnRzKX0saVtyXS5sPTEqbmV3IERhdGUoKTthPXMuY3JlYXRlRWxlbWVudChvKSxcbiAgICAgICAgICAgIG09cy5nZXRFbGVtZW50c0J5VGFnTmFtZShvKVswXTthLmFzeW5jPTE7YS5zcmM9ZzttLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsbSlcbiAgICAgICAgICAgIH0pKHdpbmRvdyxkb2N1bWVudCwnc2NyaXB0JywnLy93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vYW5hbHl0aWNzLmpzJywnZ2EnKTtcbiAgICAgICAgICAgIGdhKCdjcmVhdGUnLCAnJHt0aGlzLmFuYWx5dGljc1Rva2VufScsIHsnYW5vbnltaXplX2lwJzogdHJ1ZSwgJ3BhZ2VfdGl0bGUnIDogZG9jdW1lbnQudGl0bGUsICdwYWdlX3BhdGgnOiBwYXRofSk7XG4gICAgICAgICAgICBnYSgnc2VuZCcsICdwYWdldmlldycpXG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgZ2V0Q29va2llKG5hbWUpIHtcbiAgICAgICAgdmFyIG5hbWVFUSA9IG5hbWUgKyBcIj1cIjtcbiAgICAgICAgdmFyIGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gY2FbaV07XG4gICAgICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT09ICcgJykgYyA9IGMuc3Vic3RyaW5nKDEsIGMubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChjLmluZGV4T2YobmFtZUVRKSA9PT0gMCkgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWVFUS5sZW5ndGgsIGMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBoaWRlQmFubmVyKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG5cbiAgICBpbml0QW5hbHl0aWNzKCkge1xuICAgICAgICBsZXQgc2NyaXB0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBzY3JpcHROb2RlLmlubmVySFRNTCA9IHRoaXMuYW5hbHl0aWNzU3RyaW5nO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcmlwdE5vZGUpO1xuXG4gICAgICAgIGJhcmJhLmhvb2tzLmFmdGVyKCgpID0+IHtcbiAgICAgICAgICAgIGdhKCdzZXQnLCAncGFnZScsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICAgICAgICBnYSgnc2VuZCcsICdwYWdldmlldycpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5nZXRDb29raWUoJ2Nvb2tpZUFsbCcpID09PSBudWxsICYmIHRoaXMuZ2V0Q29va2llKCdjb29raWVSZXF1aXJlZCcpID09PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZGVsYXkgPSBDbGllbnQud2luZG93V2lkdGggPD0gNzY4ID8gNzAwMCA6IDcwMDA7XG5cbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcblxuICAgICAgICAgICAgdGhpcy5hY2NlcHRBbGwuYWRkRXZlbnRMaXN0ZW5lcihmYXN0Q2xpY2ssICgpID0+IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBcImNvb2tpZUFsbD10cnVlXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlQmFubmVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0QW5hbHl0aWNzKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5hY2NlcHRSZXF1aXJlZC5hZGRFdmVudExpc3RlbmVyKGZhc3RDbGljaywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IFwiY29va2llUmVxdWlyZWQ9dHJ1ZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZUJhbm5lcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59Il19
